package view;

import java.awt.Dimension;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.ItemEvent;
import java.awt.event.ItemListener;
import java.util.ArrayList;

import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JDialog;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextField;

import com.mysql.jdbc.log.Jdk14Logger;

import controll.Database;
import controll.Employee;

@SuppressWarnings("serial")
public class ModEmployee extends JDialog {
	
	private JComboBox<String> employees;
	private JTextField firstName, lastName, address, payType, payDelivery, union, salary;
	

	public ModEmployee(ArrayList<Employee> empList, Database empDatabase) {
	JPanel modPanel = new JPanel();
	modPanel.setLayout(new GridLayout(0,2,2,2));
	modPanel.add(new JLabel("Employee:"));
	employees = new JComboBox<>();
	for (Employee employee : empList) {
		String first = employee.getFirstName();
		String last = employee.getLastName();
		String name = first +" "+ last;
		employees.addItem(name);
	}
	employees.addItemListener(new ItemListener() {
		
		@Override
		public void itemStateChanged(ItemEvent e) {
			if (e.getStateChange() == ItemEvent.SELECTED) {
				System.out.println(e.getItem().toString());
				getPreviousDetails(e.getItem().toString());
			}
			
		}


	});
	
	modPanel.add(employees);
	modPanel.add(new JLabel("First Name:"));
	firstName = new JTextField();
	modPanel.add(firstName);
	modPanel.add(new JLabel("Last Name:"));
	lastName = new JTextField();
	modPanel.add(lastName);
	modPanel.add(new JLabel("Address:"));
	address = new JTextField();
	modPanel.add(address);
	modPanel.add(new JLabel("Pay Type:"));
	payType = new JTextField();
	modPanel.add(payType);
	modPanel.add(new JLabel("Pay Delivery:"));
	payDelivery = new JTextField();
	modPanel.add(payDelivery);
	modPanel.add(new JLabel("Union:"));
	union = new JTextField();
	modPanel.add(union);
	modPanel.add(new JLabel("Salary:"));
	salary = new JTextField();
	modPanel.add(salary);
	JButton addButton = new JButton("Add");
	JButton closeButton = new JButton("Cancel");
	closeButton.addActionListener(new ActionListener() {
		
		@Override
		public void actionPerformed(ActionEvent e) {
			close();
			
		}
	});
	modPanel.add(addButton);
	modPanel.add(closeButton);
	setDefaultCloseOperation(DISPOSE_ON_CLOSE);
	add(modPanel);
	setLocationRelativeTo(null);
	setPreferredSize(new Dimension(400, 300));
	setTitle("Edit Employee");
	pack();
	setModal(true);
	setVisible(true);
	}
	
	private void getPreviousDetails(String string) {
		String[] nameStr = string.split("\\s+");
		
	}

}
