package view;

import java.awt.GridLayout;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;

import javax.swing.JComboBox;
import javax.swing.JDialog;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JSpinner;
import javax.swing.JTextField;

import controll.Database;
import controll.EmpList;
import controll.Employee;
import controll.SalesRecipts;

public class AddSalesRecipt extends JDialog{
	
	private static final long serialVersionUID = -2650351500956930115L;
	private JTextField date;
	private JSpinner amount;
	private JComboBox<String> employees;
	private EmpList empList;
	private String dateString;

	
	public AddSalesRecipt(SalesRecipts salesRecipts, Database database,
			EmpList empList, int i, SalesRecipts ogSrList) {
		this.empList = empList;
		JPanel panel = new JPanel();
		panel.setLayout(new GridLayout(0,2,2,2));
		panel.add(new JLabel("Employee:"));
		employees = new JComboBox<>();
		for (Employee emp : empList) {
			String first = emp.getFirstName();
			String last = emp.getLastName();
			String name = first +" "+ last;
			employees.addItem(name);
		}
		if (empList.size() == 1) {
			employees.setEnabled(false);
		}
		panel.add(employees);
		panel.add(new JLabel("Date:"));
		
		Calendar cal = Calendar.getInstance();
		Date dte = cal.getTime();
		SimpleDateFormat format = new SimpleDateFormat("yyy-MM-dd");
		try {
			dateString = format.format(dte);
			date = new JTextField(dateString);
			date.setEditable(false);
		}catch (Exception e) {
			JOptionPane.showMessageDialog(null,e,"Error:", JOptionPane.ERROR_MESSAGE);
		}
		
		panel.add(date);
		
		
	}

}
